@model templateProj.Models.HomeViewModel
@{
    Layout = null;
    string ProPicPath = Model.usermodel.ProfilePic;
    string Uname = Model.usermodel.Username;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Eco-Garb | Starter</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="../../Styles/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!--datepicker-->
    <link href="~/Styles/plugins/datepicker/datepicker3.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.min.css" />

    <!-- fullCalendar 2.2.5-->
    <link rel="stylesheet" href="../plugins/fullcalendar/fullcalendar.min.css">
    <link rel="stylesheet" href="../plugins/fullcalendar/fullcalendar.print.css" media="print">
    <!-- Bootstrap time Picker -->
    <link rel="stylesheet" href="../../Styles/plugins/timepicker/bootstrap-timepicker.min.css">

    <!-- DataTables -->
    <link rel="stylesheet" href="~/Content/dataTables.bootstrap.css">

    <link href="~/Content/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <!-- Theme style -->
    <link rel="stylesheet" href="../../Styles/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect.
    -->
    <link rel="stylesheet" href="../../Styles/dist/css/skins/skin-blue.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
        .modal-backdrop {
            z-index: -1;
        }
    </style>
</head>
<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to get the
desired effect
|---------------------------------------------------------|
| SKINS         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                             |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|LAYOUT OPTIONS | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
        <!-- Rendering the partial view for the navigation bar-->
        @Html.Partial("_AdminNavigation", Model.usermodel)
      <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    Driver Profiles
                    <small></small>
                </h1>
            </section>
            <ol class="breadcrumb" style="left:100px ; top:50px ; background-color:transparent">
                <li><a href="@Url.Action("Home", "Home" )" style="color:seagreen"><i class="fa fa-dashboard" style="color:seagreen"></i> Home</a></li>
                <li class="active">Driver Profiles</li>
            </ol>
            <!-- Main content -->
            <section class="content">
                

                <div class=" col-md-8">
                    <div class="box box-success">
                        <div class="box-header with-border">
                            <h3 class="box-title">All Drivers</h3>
                        </div>
                        <div class="box-body">
                            <div class="box-body table-responsive no-padding">
                                <table class="table table-hover">
                                    <tbody>
                                        <tr>
                                            <th>NIC ID</th>
                                            <th>Driver Name</th>
                                            <th>Driving License ID</th>
                                            <th>Age</th>
                                            <th>Experience</th>
                                            <th>Status</th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                        @foreach (var item in Model.drivers)
                                        {
                                            <tr>
                                                <td>
                                                    <a href="#">@item.NicID</a>
                                                </td>
                                                <td>
                                                    @item.DriverName
                                                </td>
                                                <td>@item.DrivingLicenseID</td>
                                                <td>@item.DriverAge</td>
                                                <td>
                                                    @item.YearsOfExperience
                                                </td>
                                                @if (item.DriverStatus == "Not Available")
                                                {
                                                    <td style="font-size:medium">
                                                        <small class="label label-danger">@item.DriverStatus</small>
                                                    </td>
                                                }
                                                @if (item.DriverStatus == "Unoccupied")
                                                {
                                                    <td style="font-size:medium">
                                                        <small class="label label-warning">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@item.DriverStatus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>
                                                    </td>
                                                }
                                                @if (item.DriverStatus == "Occupied")
                                                {
                                                    <td style="font-size:medium">
                                                        <small class="label label-success">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@item.DriverStatus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>
                                                    </td>
                                                }
                                                <td>
                                                    <div class="tools">

                                                        <a href="#" onclick="ShowEditDriverInformation(@item.TableID)"><i class="fa fa-edit"></i></a>

                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="tools">
                                                        <a href="#" onclick="ShowDeleteDriver(@item.TableID)"><i class="fa fa-trash-o" style="color:red;"></i></a>


                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div><!-- /.box-body -->
                    </div>

                </div>


                <input type="hidden" name="DriverNICValidated" id="DriverNICValidated" hidden>
                <input type="hidden" name="drivingLicenseValidated" id="drivingLicenseValidated" hidden>
                <input type="hidden" name="ageValidated" id="ageValidated" hidden>
                <input type="hidden" name="experienceValidated" id="experienceValidated" hidden>
                <input type="hidden" name="contactValidated" id="contactValidated" hidden>
                <input type="hidden" name="EditexperienceValidated" id="EditexperienceValidated" hidden>


                <div class=" col-md-4">
                    <div class="box box-success">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add new Driver</h3>
                        </div>
                        <div class="box-body">

                                <div class="form-group has-feedback" id="divDriverName">
                                <b> Driver Name </b>
                                <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="driverName" oninput="checkDriverName()"/>
                                <span id="validateDriverName" style="margin-top:-1px;margin-left:120px"></span>
                                </div>

                                <div class="form-group has-feedback" id="divNicNo">
                                    <b>NIC No</b>
                                    <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="NicID" /> <br />
                                </div>
                                <div class="form-group has-feedback" id="divDrivingLicenseID">
                                    <b> Driving License ID</b>
                                    <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="drivingLicenseID" /> <br />
                                </div>
                                <div class="form-group has-feedback" id="divAge">
                                    <b> Age</b>
                                    <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="age" /> <br />
                                </div>
                                <div class="form-group has-feedback" id="divYearsOfExperience">
                                    <b>Years of Experience</b>
                                    <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="yearsOfExperience" /> <br />
                                </div>
                                <div class="form-group has-feedback" id="divContactNo">
                                    <b>Contact Number</b>
                                    <input type="text" class="form-control width" style="width:190px;margin-top:-25px;margin-left:120px" id="contactNo" /> <br />
                                </div>
                                <button class="btn btn-block btn-success pull-right" style="background-color:seagreen; width:150px; margin-right:20px;" onclick="addDrivers()">Add Driver</button>
                            </div><!-- /.box-body -->
                    </div>

                </div>





                <div class="success modal modal fade" id="AddDriverSuccess">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-green" id="modalHead">
                                <h4 class="modal-title">Success Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="success-modal-msg" style="font-size:15px;">Driver Information Successfully Added&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" data-dismiss="modal" id="modalBtn" onclick="window.location.reload();">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="driverNameNullValue">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter the Driver Name&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="NICNullValue">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter the NIC Number.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="NICValidateError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter a valid NIC Number.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="DrivingLicenseIDNullError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter the Driving License ID.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="DrivingLicenseValidateError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter a valid Driving License ID..&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="DrivingLicenseInvalidError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">The Vehicle Driving License Class is not Applicable.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="AgeNullError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter the Age.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="AgeValidateError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter a valid Age.Should only contain digits.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="AgeInvalidError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Age should be between 18 years to 60 years.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="ExperienceNullError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter the years of Experience.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="ExperienceValidateError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Enter a valid number for years of experience.Should only contain digits.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="ExperienceInvalidError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">The years of experience is greater than the age.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="ContactNullError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Please enter a contact Number.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="ContactValidateError">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">Please enter a valid contact Number.Should only contain 10 digits.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="AddDriverExsist">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header  bg-red" id="modalHead">
                                <h4 class="modal-title">Error Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="error-modal-msg" style="font-size:15px;">A Driver with the given NIC ID is already Existing.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="modalBtn">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div>

                <div class="success modal modal fade" id="DrivereditModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-blue-active" id="modalHead">
                                <h4 class="modal-title">Edit Driver Information</h4>
                            </div>
                            <div class="modal-body" id="divTestOption">
                                <p style="margin-left:100px">
                                    <br />
                                    <b> NIC ID </b>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverNIC" /> <br />
                                    <b>Driver Name</b> &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverName" /> <br />

                                    <b>Driving License ID</b> &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverlicenseID" /> <br />

                                    <b>Age</b> &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverAge" /> <br />

                                    <b>Years of Experience</b> &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverExperience" /> <br />

                                    <b>Contact Number</b> &nbsp;&nbsp;
                                    <input type="text" class="form-control width" style="width:200px;margin-top:-25px;margin-left:150px" id="EditdriverContactNo" /> <br />

                                    <input type="hidden" class="form-control" id="EditdriverID" hidden>
                                </p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-instagram" data-dismiss="modal" id="modalBtnAddItem" onclick="EditDriverInfo()">Edit</button>
                                <button type="button" class="btn btn-instagram" data-dismiss="modal" id="modalBtnC1">Cancel</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="EditSuccessModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-green" id="modalHead">
                                <h4 class="modal-title">Success Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="success-modal-msg" style="font-size:15px;">Driver Information Successfully Updated.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" data-dismiss="modal" id="modalBtn" onclick="window.location.reload();">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="DriverDeleteModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-yellow" id="modalHead">
                                <h4 class="modal-title">Confirmation Message</h4>
                            </div>
                            <div class="modal-body">
                                <input type="hidden" class="form-control" id="deleteDriverID" hidden>
                                <p id="confirm-modal-msg" style="font-size:15px;">Are you sure you want to delete this Driver?&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-warning" data-dismiss="modal" id="buttonOk1" onclick="DeleteDriver()">OK</button>
                                <button type="button" class="btn btn-warning" data-dismiss="modal" id="modalBtn1">Cancel</button>

                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="success modal modal fade" id="DeleteSuccessModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-green" id="modalHead">
                                <h4 class="modal-title">Success Message</h4>
                            </div>
                            <div class="modal-body">
                                <p id="success-modal-msg" style="font-size:15px;">Driver Information Successfully Deleted.&hellip;</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" data-dismiss="modal" id="modalBtn" onclick="window.location.reload();">OK</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->





            </section>
        </div><!-- /.content-wrapper -->
        <!--Rendering the partial view for the footer-->
        @Html.Partial("_ManagerFooter");

    </div><!-- ./wrapper -->
    <!-- jQuery 2.1.4 -->
    <script src="../../Styles/plugins/jQuery/jQuery-2.1.4.min.js"></script>
    <script src="~/Scripts/notify.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="../../Styles/bootstrap/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="../../Styles/plugins/fastclick/fastclick.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../../Styles/dist/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../../Styles/dist/js/demo.js"></script>
    <script src="~/Scripts/jquery-2.2.1.min.js"></script>
    <script src="~/Scripts/moment.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/bootstrap-datetimepicker.min.js"></script>
    <script src="~/Styles/plugins/datepicker/bootstrap-datepicker.js"></script>
  
</body>
</html>
<script>
    function addDrivers() {
          console.log("addDrivers");
          var driverName = document.getElementById('driverName').value;
          var NicID = document.getElementById('NicID').value;
          var drivingLicenseID = document.getElementById('drivingLicenseID').value;

          var age = document.getElementById('age').value;
          console.log(age);
          var yearsOfExperience = document.getElementById('yearsOfExperience').value;
          console.log(yearsOfExperience);
          var contactNo = document.getElementById('contactNo').value;

          if (driverName == "") {
              console.log("driverName null");
              $("#driverNameNullValue").modal('show');
          }
          else if (NicID == "") {
              console.log("nic null");
              $("#NICNullValue").modal('show');
          }
          else if (NicID != "") {
              console.log("nic not null");
              validateNICNo(NicID);
              var nicValidated = document.getElementById('DriverNICValidated').value;
              if (nicValidated == "F") {
                  $("#NICValidateError").modal('show');
              }
              else if (drivingLicenseID == "") {
                  console.log("License id null");
                  $("#DrivingLicenseIDNullError").modal('show');
              }
              else if (drivingLicenseID != "") {
                  console.log("License id is not null");
                  validateDrivingLicense(drivingLicenseID);
                  var drivingLicenseValidated = document.getElementById('drivingLicenseValidated').value;
                  if (drivingLicenseValidated == "F") {
                      $("#DrivingLicenseValidateError").modal('show');
                  }
                  else if (drivingLicenseValidated == "Invalid") {
                      $("#DrivingLicenseInvalidError").modal('show');
                  }
                  else if (age == "") {
                      $("#AgeNullError").modal('show');
                  }
                  else if (age != "") {
                      validateAge(age);
                      var ageValidated = document.getElementById('ageValidated').value;
                      if (ageValidated == "F") {
                          $("#AgeValidateError").modal('show');
                      }
                      else if (ageValidated == "Invalid") {
                          $("#AgeInvalidError").modal('show');
                      }
                      else if (yearsOfExperience == "") {
                          $("#ExperienceNullError").modal('show');
                      }
                      else if (yearsOfExperience != "") {
                          validateExperience(yearsOfExperience);
                          var experienceValidated = document.getElementById('experienceValidated').value;
                          if (experienceValidated == "F") {
                              $("#ExperienceValidateError").modal('show');
                          }
                          else if (experienceValidated == "Invalid") {
                              $("#ExperienceInvalidError").modal('show');
                          }
                          else if (contactNo == "") {
                              $("#ContactNullError").modal('show');
                          }
                          else if (contactNo != "") {
                              validateContactNo(contactNo);
                              var contactValidated = document.getElementById('contactValidated').value;
                              if (contactValidated == "F") {
                                  $("#ContactValidateError").modal('show');
                              }
                              else {
                                  $.ajax({
                                      url: '/Driver/AddDriver',
                                      type: "GET",
                                      dataType: "JSON",
                                      data: { driverName: driverName, NicID: NicID, drivingLicenseID: drivingLicenseID, age: age, yearsOfExperience: yearsOfExperience, contactNo: contactNo },
                                      success: function (response) {
                                          if (response.Message == "Exsist") {
                                              $("#AddDriverExsist").modal('show');
                                          }
                                          if (response.Message == "Success") {
                                              $("#AddDriverSuccess").modal('show');
                                          }


                                      }
                                  });
                              }
                          }
                      }
                  }
              }

          }





      }

      function validateNICNo(NicID) {
          var nicSyntax = /^[0-9]{9}[vV]$/;
          if (NicID.match(nicSyntax)) {
              document.getElementById('DriverNICValidated').value = "T";

          }
          else {
              document.getElementById('DriverNICValidated').value = "F";
          }
      }

      function validateDrivingLicense(drivingLicenseID) {
          console.log("validateDrivingLicense");
          var drivingLicenseSyntax = /^[C1|C|CE|D1|D|DE][0-9]*/;

          var invalidLicenseSyntax = /^[A1|A|B1|B|G1|G|J][0-9]*/;

          if (drivingLicenseID.match(drivingLicenseSyntax)) {
              document.getElementById('drivingLicenseValidated').value = "T";
          }
          else if (drivingLicenseID.match(invalidLicenseSyntax)) {
              document.getElementById('drivingLicenseValidated').value = "Invalid";
          }
          else {
              document.getElementById('drivingLicenseValidated').value = "F";
          }
      }

      function validateAge(age) {
          if (isNaN(age)) {
              document.getElementById('ageValidated').value = "F";

          }
          else {
              if (age < 18 || age >= 60) {
                  document.getElementById('ageValidated').value = "Invalid";
              }
              if (age >= 18 && age < 60) {
                  document.getElementById('ageValidated').value = "T";
              }
          }
      }

      function validateExperience(yearsOfExperience) {

          console.log("came to vaidate years of experience");
          if (isNaN(yearsOfExperience)) {
              document.getElementById('experienceValidated').value = "F";

          }
          else {
              var age1 = document.getElementById('age').value;

              console.log("yearsOfExperience " + yearsOfExperience);
              console.log("age " + age1);
              if (age1 > yearsOfExperience) {
                  console.log("correct");
                  document.getElementById('experienceValidated').value = "T";
              }
              else {

                  console.log("years of experience is greater");
                  document.getElementById('experienceValidated').value = "Invalid";
              }
          }
      }

      function validateEditExperience(EditdriverExperience) {
          if (isNaN(EditdriverExperience)) {
              document.getElementById('EditexperienceValidated').value = "F";

          }
          else {
              var EditdriverAge = document.getElementById('EditdriverAge').value;
              if (EditdriverAge > EditdriverExperience) {
                  console.log("correct");
                  document.getElementById('EditexperienceValidated').value = "T";

              }
              else if (EditdriverExperience > EditdriverAge) {

                  console.log("years of experience is greater");
                  document.getElementById('EditexperienceValidated').value = "Invalid";
              }

          }
      }

      function validateContactNo(contactNo) {

          var phonenoSyntax = /^\d{10}$/;
          if (contactNo.match(phonenoSyntax)) {
              document.getElementById('contactValidated').value = "T";
          }
          else {
              document.getElementById('contactValidated').value = "F";
          }
      }

      function ShowEditDriverInformation(id) {
          console.log("came here");
          $("#DrivereditModal").modal('show');
          $.ajax({
              url: '/Driver/getDriverDetails',
              type: "GET",
              dataType: "JSON",
              data: { id: id },
              success: function (response) {
                  //  $("#successModal").modal('show');
                  $('#EditdriverID').val(id);
                  $('#EditdriverNIC').val(response.nicNo);
                  $('#EditdriverName').val(response.driverName);
                  $('#EditdriverlicenseID').val(response.drivingLicense);
                  $('#EditdriverAge').val(response.age);
                  $('#EditdriverExperience').val(response.experience);
                  $('#EditdriverContactNo').val(response.contactNo);
              }
          });
      }


      function EditDriverInfo() {
          console.log("EditDriverInformation");
          var EditdriverNIC = document.getElementById('EditdriverNIC').value;
          var EditdriverID = document.getElementById('EditdriverID').value;
          console.log(EditdriverID);
          var EditdriverName = document.getElementById('EditdriverName').value;
          console.log(EditdriverName);
          var EditdriverlicenseID = document.getElementById('EditdriverlicenseID').value;
          console.log(EditdriverlicenseID);
          var EditdriverAge = document.getElementById('EditdriverAge').value;
          console.log(EditdriverAge);
          var EditdriverExperience = document.getElementById('EditdriverExperience').value;
          console.log(EditdriverExperience);
          var EditdriverContactNo = document.getElementById('EditdriverContactNo').value;
          console.log(EditdriverContactNo);

          if (EditdriverName == "") {

              $("#driverNameNullValue").modal('show');
          }
          else if (EditdriverlicenseID == "") {
              $("#DrivingLicenseIDNullError").modal('show');
          }
          else if (EditdriverlicenseID != "") {

              validateDrivingLicense(EditdriverlicenseID);
              var drivingLicenseValidated = document.getElementById('drivingLicenseValidated').value;
              if (drivingLicenseValidated == "F") {
                  $("#DrivingLicenseValidateError").modal('show');
              }
              else if (drivingLicenseValidated == "Invalid") {
                  $("#DrivingLicenseInvalidError").modal('show');
              }
              else if (EditdriverAge == "") {
                  $("#AgeNullError").modal('show');
              }
              else if (EditdriverAge != "") {
                  validateAge(EditdriverAge);
                  var ageValidated = document.getElementById('ageValidated').value;
                  if (ageValidated == "F") {
                      $("#AgeValidateError").modal('show');
                  }
                  else if (ageValidated == "Invalid") {
                      $("#AgeInvalidError").modal('show');
                  }
                  else if (EditdriverExperience == "") {
                      $("#ExperienceNullError").modal('show');
                  }
                  else if (EditdriverExperience != "") {
                      validateEditExperience(EditdriverExperience);
                      var EditexperienceValidated = document.getElementById('EditexperienceValidated').value;
                      if (EditexperienceValidated == "F") {
                          $("#ExperienceValidateError").modal('show');
                      }
                      else if (EditexperienceValidated == "Invalid") {
                          $("#ExperienceInvalidError").modal('show');
                      }
                      else if (EditdriverContactNo == "") {
                          $("#ContactNullError").modal('show');
                      }
                      else if (EditdriverContactNo != "") {
                          validateContactNo(EditdriverContactNo);
                          var contactValidated = document.getElementById('contactValidated').value;
                          if (contactValidated == "F") {
                              $("#ContactValidateError").modal('show');
                          }
                          else {
                              $.ajax({
                                  url: '/Driver/EditDriver',
                                  type: "GET",
                                  dataType: "JSON",
                                  data: { EditdriverNIC: EditdriverNIC, EditdriverID: EditdriverID, EditdriverName: EditdriverName, EditdriverlicenseID: EditdriverlicenseID, EditdriverAge: EditdriverAge, EditdriverExperience: EditdriverExperience, EditdriverContactNo: EditdriverContactNo },
                                  success: function (response) {
                                      $("#EditSuccessModal").modal('show');


                                  }
                              });
                          }
                      }

                  }
              }
          }
      }

      function ShowDeleteDriver(id) {
          console.log("came here " + id);
          $("#DriverDeleteModal").modal('show');
          document.getElementById('deleteDriverID').value = id;
      }

      function DeleteDriver() {
          var deleteDriverID = document.getElementById('deleteDriverID').value;
          $.ajax({
              url: '/Driver/DeleteDriver',
              type: "GET",
              dataType: "JSON",
              data: { deleteDriverID: deleteDriverID },
              success: function (response) {
                  $("#DeleteSuccessModal").modal('show');


              }
          });
      }

      function xaddDrivers()
      {
          alert("came here");
          var driverName = document.getElementById('driverName').value;
          var NicID = document.getElementById('NicID').value;
          var drivingLicenseID = document.getElementById('drivingLicenseID').value;
          var age = document.getElementById('age').value;
          var yearsOfExperience = document.getElementById('yearsOfExperience').value;
          var contactNo = document.getElementById('contactNo').value;

          if (driverName == "" || driverName == null)
          {
              document.getElementById('validateDriverName').innerText = "please enter the driver name";
              document.getElementById("driverName").style.borderColor = "red";
              document.getElementById("validateDriverName").style.color = "red";
              
          }
         

      }

      function checkDriverName()
      {
          var driverName = document.getElementById('driverName').value;

          if (driverName == "" || driverName == null) {
              document.getElementById('validateDriverName').innerText = "please enter the driver name";
              document.getElementById("driverName").style.borderColor = "red";
              document.getElementById("validateDriverName").style.color = "red";

          }
          else
          {
              document.getElementById('validateDriverName').innerText = "";
              document.getElementById("driverName").style.borderColor = "";
              document.getElementById("validateDriverName").style.color = "red";
          }
      }
</script>









